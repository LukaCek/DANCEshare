{% extends "layout.html" %}

{% block title %}Create Group{% endblock %}

{% block styles %}<style>
    body {
        text-align: left;
    }

    h1 {
        text-align: center;
        margin-top: 10px;
    }

    p {
        color: gray;
    }
    .jl-button {
        margin-right: 15px;
        margin-left: auto;
    }
    .sup {
        color: gray;
    }
    .description {
        margin-top: 5px;
    }
</style>{% endblock %}

{% block main %}
{% for group in groups %}
<!-- check if user owns the group OR if the group is public -->
{% if group[3] or user_id == group[4] %}
<!-- dont show hr first time-->
{% if not loop.first %}
<hr>
{% endif %}
<div style="margin-left: 15px; margin-right: 15px;">
    <div class="card-body d-flex justify-content-between align-items-center">
        <div>
            <h5 class="card-title mb-0">{{ group[1] }} <sup class="sup"><small>{% if group[3] %} Public{% else %} Private{% endif %}</small></sup></h5>
            <p class="card-text mb-0 description">{{ group[2] }}</p>
        </div>
        {% if not group[5] %} <!-- if user is not in group -->
        <a href="/group/{{ group[0] }}/join" class="btn btn-primary jl-button">Join</a>
        {% else %} <!-- if user is in group -->
        <a href="/group/{{ group[0] }}/leave" class="btn btn-danger jl-button">Leave</a>
        {% endif %}
        {% if group[4] == user_id %} <!-- if user owns the group -->
        <a href="/group/{{ group[0] }}/edit" class="btn btn-success">Edit</a>
        {% endif %}
    </div>
</div>
{% endif %}{% endfor %}
{% endblock %}