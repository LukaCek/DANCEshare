{% extends "layout.html" %}

{% block title %}home{% endblock %}

{% block styles %}<style>
    .video {
        max-height: 450px;
    }
    .name-box {
        padding: 5px;
        padding-bottom: 0px;
    }
    .card {
        margin-bottom: 5px;
        margin-top: 5px;
    }
    .sf-box {
        background-color: #160d1c;
        padding: 10px;
    }
    .f-box {
        display: inline-flex;
    }
    /* phone */
    @media only screen and (max-width: 600px) {
        .video {
            max-height: 80%;
        }
        .card {
            max-width: 96%;
            margin: 0 auto;
            margin-top: 5px;
            float: none;
        }
    }
</style>{% endblock %}

{% block main %}
<form class="form-inline sf-box" method="post">
    <input name="q" id="q" style="border-radius: 50px;" class="form-control mr-sm-2" type="search" placeholder="Search"
        aria-label="Search">
    <!-- filter -->
    <div class="f-box">
        <select name="group" id="group" class="form-select form-select-sm" aria-label=".form-select-sm example" style="margin-top: 3px; border-radius: 15px;">
            {% if groups %}
                <option selected>All groups</option>
            {% endif %}
            {% for group in groups %}
                <option value="{{ group[0] }}">{{ group[1] }}</option>
            {% endfor %}
        </select>
        <!-- add submit button next to filter -->
        <button type="submit" class="btn btn-outline-success btn-sm" style="margin-top: 3px; border-radius: 15px;">Submit</button>
    </div>
</form>
<div class="container text-center">
    <div class="row row-cols-auto">
        {% for video in videos %}
        <div class="card h-100">
            <!-- video's video-->
            {% if video[0] %}
            <video controls class="video">
                <source src="{{ video[0] }}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            {% endif %}
            <!-- video's details-->
            <div class="text-center name-box">
                <!-- video's name-->
                <h5 class="fw-bolder">{{ video[1] }}</h5>
            </div>
        </div>
        {% endfor %}
        {% if videos|length == 0 %}
        <div style="color: gray; margin-left: auto; margin-right: auto; padding-top: 20px;">
            <p style="margin: 0%;">No videos found.</p>
            <p>Upload a video to see it here.</p>
        </div>
        {% endif %}
        <div style="margin-bottom: 300px;"></div>
    </div>
</div>
{% endblock %}
{% block script %}{% endblock %}