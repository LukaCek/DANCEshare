{% extends "layout.html" %}

{% block title %}Create Group{% endblock %}

{% block styles %}<style>
    body {
        text-align: left;
    }

    h1 {
        text-align: center;
        margin-top: 10px;
    }

    p {
        color: gray;
    }
</style>{% endblock %}

{% block main %}
<h1>Browse Group</h1>
{% if success %}<p style="color: green; background-color: rgba(0, 128, 0, 0.352);"><b>{{ success }}</b></p>{% endif %}
{% if error %}<p style="color: red;">{{ error }}</p>{% endif %}

{% for group in groups %}
<!-- check if user owns the group OR if the group is public -->
{% if group[5] or user_id == group[3] %}
<hr>
<div style="margin-left: 15px; margin-right: 15px;">
    <div class="card-body d-flex justify-content-between align-items-center">
        <div>
            <h5 class="card-title mb-0">{{ group[1] }}</h5>
            <p class="card-text mb-0">{{ group[2] }}</p>
        </div>
        <!-- TODO: imploment join button -->
        <a href="/group/{{ group[0] }}/join" class="btn btn-primary">Join</a>
    </div>
</div>
{% endif %}{% endfor %}
{% endblock %}

{% block script %}
<script></script>{% endblock %}